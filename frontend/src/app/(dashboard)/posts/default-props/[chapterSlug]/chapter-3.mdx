# Default properties can be removed or declared fixed

The example below shows two things:

1. If you set a default property to `undefined` then it's removed from the available set of properties.
2. By setting the `fixed` property, you can allow components to use certain default properties, but not to override them.


export const code1 = `
import { observer } from "mobx-react";
import { DefaultPropsProvider } from "react-default-props-context";

const MyFrame = observer(() => {
  const defaultProps = {
  color: () => "red",
  bar: () => foo.bar,
};

const defaultPropsInner = {
  // A value of undefined means that the property is removed.
  bar: undefined,
};

const fixedDefaultProps = {
  // A value of true means that the property is fixed.
  color: true,
};

return (
  <DefaultPropsProvider value={defaultProps}>
    <MyComponent name="example"/>
    <DefaultPropsProvider extend value={defaultPropsInner} fixed={fixedDefaultProps}>
      <MyComponent name="exampleInner/>
    </DefaultPropsProvider>
  </DefaultPropsProvider>
);
`;

<CodeSnippet
  title="example/MyFrame.tsx"
  code={code1}
  addMb
/>

# The default properties can be defined centrally

It makes sense to use a central location to define the names and types of the default properties that are used in the application.
This way, when using the default properties in your component, you are protected from misspelling the names, or using the wrong types.
In the above example, we see how `color` and `size` can be defined in a global `dps.ts` file.

export const code2 = `
import { stub } from 'react-default-props-context';

export const dps = {
  color: { color: stub as string };
  size: { size: stub as int };
};
`;

<CodeSnippet
  title="example/defaultProps.ts"
  code={code2}
/>

export const code3 = `
import { withDefaultProps } from 'react-default-props-context';
import { dps } from 'dps';

type PropsT = { name: string };

const DefaultProps = {
  ...dps.color,
  ...dps.size,
};

const MyComponent = withDefaultProps(
  (props: PropsT & typeof DefaultProps) => {
    return <text color={props.color}>{\`Size is \$\{props.size\}\`}</text>;
  }, DefaultProps
);
`;

<CodeSnippet
  title="example/MyComponent.tsx"
  code={code3}
  addMb
/>

# Using getOriginalProps and getOriginalDefaultProps

## The getOriginalProps function

The `props` argument of `MyComponent` contains both normal properties and default properties.
If you want to access only the properties received from the parent component then you can use the `getOriginalProps` function.

## The getOriginalDefaultProps function

If the parent component of `MyComponent` sets the `color` property (e.g. `color="green"`) then this has the effect of
overriding the `color` default property value. If you want to access the original default properties
(without overrides from the parent component) then you can use the `getOriginalDefaultProps` function.

export const code4 = `
import { withDefaultProps, getOriginalProps, getOriginalDefaultProps } from 'react-default-props-context';
import { dps } from 'dps';

type PropsT = { name: string };

const DefaultProps = {
  ...dps.color,
  ...dps.size,
};

const MyComponent = withDefaultProps(
  (props: PropsT & typeof DefaultProps) => {
    const propsReceivedFromParent = getOriginalProps(props);
    const defaultPropsWithoutOverrides = getOriginalDefaultProps(props);

    return <text color={props.color}>{\`Size is \$\{props.size\}\`}</text>;
  }, DefaultProps
);
`;

<CodeSnippet
  title="example/MyComponent.tsx"
  code={code4}
/>
